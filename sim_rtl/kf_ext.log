ncverilog(64): 15.20-s079: (c) Copyright 1995-2019 Cadence Design Systems, Inc.
file: ../src/kf_top_tb.v
	module worklib.kf_top_tb:v
		errors: 0, warnings: 0
file: ../src/kf_top.v
	module worklib.kf_top:v
		errors: 0, warnings: 0
file: ../src/sequencer.v
	module worklib.rom_256x16:v
		errors: 0, warnings: 0
	module worklib.sequencer:v
		errors: 0, warnings: 0
file: ../src/router_a.v
	module worklib.router_a:v
		errors: 0, warnings: 0
file: ../src/router_b.v
	module worklib.router_b:v
		errors: 0, warnings: 0
file: ../src/mem_reg.v
	module worklib.RQ:v
		errors: 0, warnings: 0
	module worklib.RD:v
		errors: 0, warnings: 0
	module worklib.Data_Bank:v
		errors: 0, warnings: 0
	module worklib.mem_reg:v
		errors: 0, warnings: 0
file: ../src/au.v
	module worklib.mult_inv:v
		errors: 0, warnings: 0
	module worklib.au:v
		errors: 0, warnings: 0
		Caching library 'worklib' ....... Done
	Elaborating the design hierarchy:
	Building instance overlay tables: .................... Done
	Generating native compiled code:
		worklib.Data_Bank:v <0x271232b3>
			streams:   4, words:  2086
		worklib.RD:v <0x364a9b5a>
			streams:   2, words:   432
		worklib.RQ:v <0x29c89817>
			streams:   2, words:   432
		worklib.au:v <0x5ac84f5e>
			streams:  34, words:  9573
		worklib.kf_top:v <0x01cd95d9>
			streams:  11, words:  3118
		worklib.kf_top_tb:v <0x1d846515>
			streams:  11, words: 84392
		worklib.mult_inv:v <0x5391d977>
			streams:  10, words:  3237
		worklib.rom_256x16:v <0x5a154731>
			streams:   4, words:  2312
		worklib.router_a:v <0x7493e78d>
			streams:   4, words:  1133
		worklib.router_b:v <0x77f0b8d2>
			streams:   7, words:  1689
		worklib.sequencer:v <0x5ca861ce>
			streams:   7, words:  2767
	Building instance specific data structures.
	Loading native compiled code:     .................... Done
	Design hierarchy summary:
		                 Instances  Unique
		Modules:                12      12
		Registers:              80      80
		Scalar wires:           29       -
		Vectored wires:         53       -
		Always blocks:          21      21
		Initial blocks:          5       5
		Cont. assignments:      39      50
		Pseudo assignments:      3       3
		Simulation timescale:  1ps
	Writing initial simulation snapshot: worklib.kf_top_tb:v
Loading snapshot worklib.kf_top_tb:v .................... Done
ncsim> source /CMC/tools/cadence/INCISIVE15.20.079_lnx86/tools/inca/files/ncsimrc
ncsim> run
[ROM] Loaded instructions from kf_2d.mem
================================================================
Kalman Filter ASIC Testbench - Mode: EXT
================================================================

================================================================
   EXTENDED KF TEST - 50 ITERATIONS
================================================================
Loaded 50 test vectors from files
KF Parameters: Phi=[1 0.1; 0 1], H=[1 0], Q=0.01*I, R=0.1
Initial: x=[0; 0.03], P=I

Iter |  Measured |    Truth |  ASIC KF |  Expect |  Err vs Truth | Err vs Expect
-----|-----------|----------|----------|---------|---------------|---------------
   1 |   -0.4246 |   0.0000 |  -0.3864 | -0.3864 |      0.386353 |      0.000079
   2 |   -0.0735 |   0.0527 |  -0.2209 | -0.2209 |      0.273557 |      0.000017
   3 |    0.0175 |   0.1203 |  -0.1046 | -0.1046 |      0.224916 |      0.000047
   4 |   -0.1394 |   0.1013 |  -0.1016 | -0.1016 |      0.202895 |      0.000030
   5 |    0.2150 |   0.2633 |   0.0537 |  0.0539 |      0.209632 |      0.000166
   6 |    0.3425 |   0.2213 |   0.2101 |  0.2103 |      0.011170 |      0.000141
   7 |    0.7463 |   0.1804 |   0.4813 |  0.4814 |      0.300890 |      0.000091
   8 |    0.2620 |   0.2096 |   0.4523 |  0.4523 |      0.242708 |      0.000006
   9 |    0.1175 |   0.0402 |   0.3683 |  0.3682 |      0.328133 |      0.000157
  10 |   -0.0809 |  -0.0586 |   0.2298 |  0.2295 |      0.288347 |      0.000252
  20 |    0.0490 |  -0.1766 |  -0.0886 | -0.0888 |      0.087949 |      0.000132
  40 |   -1.0674 |  -0.6982 |  -0.7245 | -0.7245 |      0.026361 |      0.000038
  41 |   -0.6188 |  -0.6870 |  -0.7062 | -0.7061 |      0.019170 |      0.000063
  42 |   -0.3168 |  -0.7090 |  -0.5915 | -0.5914 |      0.117466 |      0.000087
  43 |   -1.0430 |  -0.5608 |  -0.7485 | -0.7485 |      0.187740 |      0.000017
  44 |   -0.5864 |  -0.6418 |  -0.7098 | -0.7097 |      0.067988 |      0.000095
  45 |   -0.4729 |  -0.5509 |  -0.6430 | -0.6429 |      0.092109 |      0.000098
  46 |   -0.3696 |  -0.6042 |  -0.5597 | -0.5596 |      0.044499 |      0.000065
  47 |   -0.9654 |  -0.5943 |  -0.6967 | -0.6966 |      0.102367 |      0.000029
  48 |   -1.0595 |  -0.6633 |  -0.8264 | -0.8263 |      0.163026 |      0.000011
  49 |   -0.5451 |  -0.7017 |  -0.7485 | -0.7485 |      0.046831 |      0.000041
  50 |   -0.5836 |  -0.6727 |  -0.7040 | -0.7040 |      0.031322 |      0.000068

================================================================
   RESULTS AFTER 50 ITERATIONS
================================================================
  ASIC:     x1 = -0.704041, x2 = -0.105713
  Expected: x1 = -0.703973, x2 = -0.105378

  Error vs Expected: x1_err = -0.000068, x2_err = -0.000335

  MSE Analysis:
    Raw Measurement MSE: 0.091079
    ASIC KF MSE:         0.028082
    ASIC vs Python MSE:  0.000000
    Noise Reduction:     69.2%

  Covariance Matrix:
    P11=0.033203, P12=0.025879
    P21=0.025879, P22=0.128479
================================================================

================================================================
Test Complete
================================================================

Simulation complete via $finish(1) at time 97755 NS + 0
../src/kf_top_tb.v:387     $finish;
ncsim> exit
