ncverilog(64): 15.20-s079: (c) Copyright 1995-2019 Cadence Design Systems, Inc.
file: ../src/kf_top_tb.v
	module worklib.kf_top_tb:v
		errors: 0, warnings: 0
file: ../src/kf_top.v
	module worklib.kf_top:v
		errors: 0, warnings: 0
file: ../src/sequencer.v
	module worklib.rom_256x16:v
		errors: 0, warnings: 0
	module worklib.sequencer:v
		errors: 0, warnings: 0
file: ../src/router_a.v
	module worklib.router_a:v
		errors: 0, warnings: 0
file: ../src/router_b.v
	module worklib.router_b:v
		errors: 0, warnings: 0
file: ../src/mem_reg.v
	module worklib.RQ:v
		errors: 0, warnings: 0
	module worklib.RD:v
		errors: 0, warnings: 0
	module worklib.Data_Bank:v
		errors: 0, warnings: 0
	module worklib.mem_reg:v
		errors: 0, warnings: 0
file: ../src/au.v
	module worklib.mult_inv:v
		errors: 0, warnings: 0
	module worklib.au:v
		errors: 0, warnings: 0
		Caching library 'worklib' ....... Done
	Elaborating the design hierarchy:
	Building instance overlay tables: .................... Done
	Generating native compiled code:
		worklib.Data_Bank:v <0x271232b3>
			streams:   4, words:  2086
		worklib.RD:v <0x364a9b5a>
			streams:   2, words:   432
		worklib.RQ:v <0x29c89817>
			streams:   2, words:   432
		worklib.au:v <0x5ac84f5e>
			streams:  34, words:  9573
		worklib.kf_top:v <0x01cd95d9>
			streams:  11, words:  3118
		worklib.kf_top_tb:v <0x0a19f9fe>
			streams:  11, words: 86440
		worklib.mult_inv:v <0x5391d977>
			streams:  10, words:  3237
		worklib.rom_256x16:v <0x5a154731>
			streams:   4, words:  2312
		worklib.router_a:v <0x7493e78d>
			streams:   4, words:  1133
		worklib.router_b:v <0x77f0b8d2>
			streams:   7, words:  1689
		worklib.sequencer:v <0x5ca861ce>
			streams:   7, words:  2767
	Building instance specific data structures.
	Loading native compiled code:     .................... Done
	Design hierarchy summary:
		                 Instances  Unique
		Modules:                12      12
		Registers:              82      82
		Scalar wires:           29       -
		Vectored wires:         53       -
		Always blocks:          21      21
		Initial blocks:          5       5
		Cont. assignments:      39      50
		Pseudo assignments:      3       3
		Simulation timescale:  1ps
	Writing initial simulation snapshot: worklib.kf_top_tb:v
Loading snapshot worklib.kf_top_tb:v .................... Done
ncsim> source /CMC/tools/cadence/INCISIVE15.20.079_lnx86/tools/inca/files/ncsimrc
ncsim> run
[ROM] Loaded instructions from kf_2d.mem
================================================================
Kalman Filter ASIC Testbench - Mode: EXT
================================================================

================================================================
   EXTENDED KF TEST - 100 ITERATIONS
================================================================
Loaded 100 test vectors from files
KF Parameters: Phi=[1 0.1; 0 1], H=[1 0], Q=0.01*I, R=0.1
Initial: x=[0; 0.03], P=I

Iter |  Measured |    Truth |  ASIC KF |  Expect |  Err vs Truth | Err vs Expect
-----|-----------|----------|----------|---------|---------------|---------------
   1 |    0.1073 |   0.0000 |   0.0980 |  0.0980 |      0.098022 |      0.000002
   2 |    0.2209 |   0.0527 |   0.1650 |  0.1650 |      0.112307 |      0.000047
   3 |    0.4452 |   0.1203 |   0.2973 |  0.2974 |      0.177000 |      0.000137
   4 |    0.4174 |   0.1013 |   0.3682 |  0.3683 |      0.266954 |      0.000105
   5 |   -0.1500 |   0.2633 |   0.1605 |  0.1604 |      0.102821 |      0.000087
   6 |   -0.0600 |   0.2213 |   0.0579 |  0.0578 |      0.163453 |      0.000074
   7 |    0.3349 |   0.1804 |   0.1606 |  0.1606 |      0.019850 |      0.000006
   8 |    0.3638 |   0.2096 |   0.2418 |  0.2419 |      0.032197 |      0.000065
   9 |    0.1947 |   0.0402 |   0.2275 |  0.2276 |      0.187325 |      0.000061
  10 |    1.0973 |  -0.0586 |   0.5711 |  0.5714 |      0.629656 |      0.000280
  20 |   -0.1520 |  -0.1766 |  -0.2765 | -0.2766 |      0.099917 |      0.000081
  40 |   -0.4425 |  -0.6982 |  -0.6149 | -0.6149 |      0.083258 |      0.000004
  60 |   -0.6325 |  -0.8649 |  -0.7487 | -0.7486 |      0.116283 |      0.000055
  80 |   -1.0183 |  -0.9027 |  -1.1102 | -1.1103 |      0.207486 |      0.000024
  91 |   -0.9663 |  -0.9039 |  -0.9369 | -0.9369 |      0.033036 |      0.000033
  92 |   -0.9805 |  -0.8326 |  -0.9521 | -0.9522 |      0.119443 |      0.000112
  93 |   -1.1088 |  -0.9319 |  -1.0056 | -1.0057 |      0.073608 |      0.000106
  94 |   -0.6911 |  -0.9460 |  -0.9055 | -0.9056 |      0.040505 |      0.000051
  95 |   -0.7826 |  -0.8897 |  -0.8635 | -0.8635 |      0.026252 |      0.000004
  96 |   -1.1734 |  -0.9655 |  -0.9628 | -0.9628 |      0.002655 |      0.000027
  97 |   -0.7329 |  -1.0027 |  -0.8886 | -0.8886 |      0.114130 |      0.000042
  98 |   -0.8809 |  -0.9731 |  -0.8842 | -0.8840 |      0.088925 |      0.000139
  99 |   -0.7049 |  -0.9488 |  -0.8227 | -0.8225 |      0.126063 |      0.000164
 100 |   -0.8409 |  -1.0297 |  -0.8236 | -0.8235 |      0.206142 |      0.000128

================================================================
   RESULTS AFTER 100 ITERATIONS
================================================================
  ASIC:     x1 = -0.823608, x2 = 0.070007
  Expected: x1 = -0.823480, x2 = 0.070009

  Error vs Expected: x1_err = -0.000128, x2_err = -0.000002

  MSE Analysis:
    Raw Measurement MSE: 0.105131
    ASIC KF MSE:         0.031503
    ASIC vs Python MSE:  0.000000
    Noise Reduction:     70.0%

  Covariance Matrix:
    P11=0.033203, P12=0.025879
    P21=0.025879, P22=0.128601
================================================================

Exported ASIC results to: kf_asic.txt

================================================================
Test Complete
================================================================

Simulation complete via $finish(1) at time 195255 NS + 0
../src/kf_top_tb.v:400     $finish;
ncsim> exit
