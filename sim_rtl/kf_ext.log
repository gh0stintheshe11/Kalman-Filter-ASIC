ncverilog(64): 15.20-s079: (c) Copyright 1995-2019 Cadence Design Systems, Inc.
file: ../src/kf_top_tb.v
	module worklib.kf_top_tb:v
		errors: 0, warnings: 0
file: ../src/kf_top.v
	module worklib.kf_top:v
		errors: 0, warnings: 0
file: ../src/sequencer.v
	module worklib.rom_256x16:v
		errors: 0, warnings: 0
	module worklib.sequencer:v
		errors: 0, warnings: 0
file: ../src/router_a.v
	module worklib.router_a:v
		errors: 0, warnings: 0
file: ../src/router_b.v
	module worklib.router_b:v
		errors: 0, warnings: 0
file: ../src/mem_reg.v
	module worklib.RQ:v
		errors: 0, warnings: 0
	module worklib.RD:v
		errors: 0, warnings: 0
	module worklib.Data_Bank:v
		errors: 0, warnings: 0
	module worklib.mem_reg:v
		errors: 0, warnings: 0
file: ../src/au.v
	module worklib.mult_inv:v
		errors: 0, warnings: 0
	module worklib.au:v
		errors: 0, warnings: 0
		Caching library 'worklib' ....... Done
	Elaborating the design hierarchy:
	Building instance overlay tables: .................... Done
	Generating native compiled code:
		worklib.Data_Bank:v <0x271232b3>
			streams:   4, words:  2086
		worklib.RD:v <0x364a9b5a>
			streams:   2, words:   432
		worklib.RQ:v <0x29c89817>
			streams:   2, words:   432
		worklib.au:v <0x5ac84f5e>
			streams:  34, words:  9573
		worklib.kf_top:v <0x01cd95d9>
			streams:  11, words:  3118
		worklib.kf_top_tb:v <0x4a5a77bc>
			streams:  11, words: 86476
		worklib.mult_inv:v <0x5391d977>
			streams:  10, words:  3237
		worklib.rom_256x16:v <0x5a154731>
			streams:   4, words:  2312
		worklib.router_a:v <0x7493e78d>
			streams:   4, words:  1133
		worklib.router_b:v <0x77f0b8d2>
			streams:   7, words:  1689
		worklib.sequencer:v <0x5ca861ce>
			streams:   7, words:  2767
	Building instance specific data structures.
	Loading native compiled code:     .................... Done
	Design hierarchy summary:
		                 Instances  Unique
		Modules:                12      12
		Registers:              82      82
		Scalar wires:           29       -
		Vectored wires:         53       -
		Always blocks:          21      21
		Initial blocks:          5       5
		Cont. assignments:      39      50
		Pseudo assignments:      3       3
		Simulation timescale:  1ps
	Writing initial simulation snapshot: worklib.kf_top_tb:v
Loading snapshot worklib.kf_top_tb:v .................... Done
ncsim> source /CMC/tools/cadence/INCISIVE15.20.079_lnx86/tools/inca/files/ncsimrc
ncsim> run
[ROM] Loaded instructions from kf_2d.mem
================================================================
Kalman Filter ASIC Testbench - Mode: EXT
================================================================

================================================================
   EXTENDED KF TEST - 500 ITERATIONS
================================================================
Loaded 500 test vectors from files
KF Parameters: Phi=[1 0.1; 0 1], H=[1 0], Q=0.01*I, R=0.1
Initial: x=[0; 0.03], P=I

Iter |  Measured |    Truth |  ASIC KF |  Expect |  Err vs Truth | Err vs Expect
-----|-----------|----------|----------|---------|---------------|---------------
   1 |    0.4198 |   0.0000 |   0.3825 |  0.3826 |      0.382507 |      0.000085
   2 |    0.3301 |   0.0527 |   0.3579 |  0.3579 |      0.305239 |      0.000014
   3 |    0.1382 |   0.1203 |   0.2604 |  0.2604 |      0.140135 |      0.000053
   4 |   -0.0928 |   0.1013 |   0.0958 |  0.0957 |      0.005507 |      0.000090
   5 |    0.4728 |   0.2633 |   0.2378 |  0.2378 |      0.025550 |      0.000049
   6 |    0.3394 |   0.2213 |   0.2783 |  0.2783 |      0.057006 |      0.000011
   7 |    0.4490 |   0.1804 |   0.3524 |  0.3525 |      0.171984 |      0.000061
   8 |    0.4002 |   0.2096 |   0.3805 |  0.3806 |      0.170869 |      0.000114
   9 |    0.3551 |   0.0402 |   0.3801 |  0.3801 |      0.339852 |      0.000008
  10 |   -0.2191 |  -0.0586 |   0.1539 |  0.1537 |      0.212420 |      0.000172
  20 |   -0.0493 |  -0.1766 |  -0.2416 | -0.2417 |      0.065005 |      0.000104
  40 |   -0.3841 |  -0.6982 |  -0.6096 | -0.6096 |      0.088568 |      0.000043
  60 |   -0.9761 |  -0.8649 |  -0.8224 | -0.8225 |      0.042491 |      0.000063
  80 |   -0.6477 |  -0.9027 |  -0.9500 | -0.9499 |      0.047208 |      0.000051
 100 |   -0.9258 |  -1.0297 |  -0.9707 | -0.9708 |      0.059047 |      0.000053
 120 |   -0.2623 |  -0.5775 |  -0.2761 | -0.2762 |      0.301392 |      0.000056
 140 |   -0.2471 |  -0.4575 |  -0.3718 | -0.3717 |      0.085717 |      0.000059
 160 |    0.5420 |   0.6394 |   0.7017 |  0.7014 |      0.062281 |      0.000271
 180 |    0.3597 |   0.6908 |   0.4302 |  0.4301 |      0.260604 |      0.000094
 200 |    1.5547 |   1.1454 |   1.4553 |  1.4552 |      0.309894 |      0.000095
 220 |    2.3597 |   1.7161 |   1.7415 |  1.7415 |      0.025306 |      0.000014
 240 |    1.8519 |   1.3634 |   1.5677 |  1.5677 |      0.204276 |      0.000033
 260 |    1.4440 |   1.4607 |   1.4666 |  1.4666 |      0.005872 |      0.000060
 280 |    1.0713 |   1.1640 |   1.2330 |  1.2329 |      0.069004 |      0.000090
 300 |    1.4031 |   1.3066 |   1.3442 |  1.3442 |      0.037572 |      0.000064
 320 |    1.5363 |   1.5924 |   1.5187 |  1.5187 |      0.073708 |      0.000036
 340 |    1.0193 |   0.9682 |   1.0838 |  1.0836 |      0.115650 |      0.000186
 360 |    0.5429 |   0.4879 |   0.3058 |  0.3060 |      0.182017 |      0.000169
 380 |    0.8503 |   0.3025 |   0.5114 |  0.5113 |      0.208869 |      0.000061
 400 |    0.6665 |   0.8636 |   0.8414 |  0.8414 |      0.022166 |      0.000061
 420 |    1.7749 |   1.6225 |   1.8393 |  1.8392 |      0.216767 |      0.000056
 440 |    1.8374 |   1.6169 |   1.8729 |  1.8729 |      0.255976 |      0.000071
 460 |    3.0158 |   2.8138 |   3.0270 |  3.0267 |      0.213166 |      0.000262
 480 |    3.0084 |   3.1396 |   3.0742 |  3.0742 |      0.065401 |      0.000047
 491 |    3.1586 |   3.3242 |   3.3236 |  3.3235 |      0.000567 |      0.000060
 492 |    4.1924 |   3.4250 |   3.6188 |  3.6187 |      0.193820 |      0.000042
 493 |    3.1816 |   3.3509 |   3.4957 |  3.4957 |      0.144847 |      0.000072
 494 |    3.4285 |   3.3731 |   3.4872 |  3.4871 |      0.114146 |      0.000106
 495 |    4.0075 |   3.5449 |   3.6721 |  3.6719 |      0.127202 |      0.000115
 496 |    4.1469 |   3.5451 |   3.8505 |  3.8504 |      0.305408 |      0.000100
 497 |    4.2067 |   3.5882 |   3.9973 |  3.9971 |      0.409036 |      0.000144
 498 |    3.9463 |   3.5838 |   4.0145 |  4.0143 |      0.430685 |      0.000203
 499 |    3.8104 |   3.5032 |   3.9791 |  3.9789 |      0.475909 |      0.000208
 500 |    3.8801 |   3.7023 |   3.9742 |  3.9740 |      0.271939 |      0.000215

================================================================
   RESULTS AFTER 500 ITERATIONS
================================================================
  ASIC:     x1 = 3.974243, x2 = 0.382141
  Expected: x1 = 3.974028, x2 = 0.380969

  Error vs Expected: x1_err = 0.000215, x2_err = 0.001172

  MSE Analysis:
    Raw Measurement MSE: 0.092729
    ASIC KF MSE:         0.028101
    ASIC vs Python MSE:  0.000000
    Noise Reduction:     69.7%

  Covariance Matrix:
    P11=0.033203, P12=0.026001
    P21=0.026001, P22=0.128174
================================================================

Exported ASIC results to: kf_asic.txt

================================================================
Test Complete
================================================================

Simulation complete via $finish(1) at time 975255 NS + 0
../src/kf_top_tb.v:507     $finish;
ncsim> exit
