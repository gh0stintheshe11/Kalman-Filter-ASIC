ncverilog(64): 15.20-s079: (c) Copyright 1995-2019 Cadence Design Systems, Inc.
file: ../src/kf_top_tb.v
	module worklib.kf_top_tb:v
		errors: 0, warnings: 0
file: ../src/kf_top.v
	module worklib.kf_top:v
		errors: 0, warnings: 0
file: ../src/sequencer.v
	module worklib.rom_256x16:v
		errors: 0, warnings: 0
	module worklib.sequencer:v
		errors: 0, warnings: 0
file: ../src/router_a.v
	module worklib.router_a:v
		errors: 0, warnings: 0
file: ../src/router_b.v
	module worklib.router_b:v
		errors: 0, warnings: 0
file: ../src/mem_reg.v
	module worklib.RQ:v
		errors: 0, warnings: 0
	module worklib.RD:v
		errors: 0, warnings: 0
	module worklib.Data_Bank:v
		errors: 0, warnings: 0
	module worklib.mem_reg:v
		errors: 0, warnings: 0
file: ../src/au.v
	module worklib.mult_inv:v
		errors: 0, warnings: 0
	module worklib.au:v
		errors: 0, warnings: 0
		Caching library 'worklib' ....... Done
	Elaborating the design hierarchy:
	Building instance overlay tables: .................... Done
	Generating native compiled code:
		worklib.Data_Bank:v <0x271232b3>
			streams:   4, words:  2086
		worklib.RD:v <0x364a9b5a>
			streams:   2, words:   432
		worklib.RQ:v <0x29c89817>
			streams:   2, words:   432
		worklib.au:v <0x5ac84f5e>
			streams:  34, words:  9573
		worklib.kf_top:v <0x58b49071>
			streams:  11, words:  3118
		worklib.kf_top_tb:v <0x08716da1>
			streams:  11, words: 100479
		worklib.mult_inv:v <0x5391d977>
			streams:  10, words:  3237
		worklib.rom_256x16:v <0x5a154731>
			streams:   4, words:  2312
		worklib.router_a:v <0x7493e78d>
			streams:   4, words:  1133
		worklib.router_b:v <0x77f0b8d2>
			streams:   7, words:  1689
		worklib.sequencer:v <0x5ca861ce>
			streams:   7, words:  2767
	Building instance specific data structures.
	Loading native compiled code:     .................... Done
	Design hierarchy summary:
		                 Instances  Unique
		Modules:                12      12
		Registers:              80      80
		Scalar wires:           29       -
		Vectored wires:         53       -
		Always blocks:          21      21
		Initial blocks:          5       5
		Cont. assignments:      39      50
		Pseudo assignments:      3       3
		Simulation timescale:  1ps
	Writing initial simulation snapshot: worklib.kf_top_tb:v
Loading snapshot worklib.kf_top_tb:v .................... Done
ncsim> source /CMC/tools/cadence/INCISIVE15.20.079_lnx86/tools/inca/files/ncsimrc
ncsim> run
[ROM] Loaded instructions from kf_2d.mem
================================================================
Kalman Filter ASIC Unified Testbench
Test Mode: EXT
ROM File: kf_2d.mem
================================================================

================================================================
   EXTENDED KF TEST - 200 ITERATIONS
================================================================
Loading measurements from: kf_test_measurements.mem
Loading ground truth from: kf_test_truth.mem
ROM File: kf_2d.mem
Test data loaded successfully

KF Parameters:
  Phi=[1 0.1; 0 1], H=[1 0], Q=0.01*I, R=0.1
  Initial: x=[0; 0.03], P=I

--- Running 200 KF iterations ---
Iter |  Measured |  True Pos |    KF Est |  Raw Err |   KF Err
-----|-----------|-----------|-----------|----------|----------
   1 |   -0.4783 |    0.0000 |   -0.4352 |   0.4783 |   0.4352
   2 |   -0.1271 |    0.0526 |   -0.2725 |   0.1797 |   0.3251
   3 |    0.1218 |    0.1203 |   -0.0860 |   0.0015 |   0.2063
   4 |    0.1154 |    0.1013 |    0.0283 |   0.0141 |   0.0729
   5 |    0.1283 |    0.2633 |    0.1057 |   0.1350 |   0.1577
   6 |    0.4081 |    0.2213 |    0.2737 |   0.1868 |   0.0524
   7 |   -0.1398 |    0.1804 |    0.1439 |   0.3203 |   0.0366
   8 |    0.1669 |    0.2096 |    0.1805 |   0.0427 |   0.0291
   9 |    0.0763 |    0.0402 |    0.1653 |   0.0361 |   0.1251
  10 |    0.0958 |   -0.0585 |    0.1602 |   0.1543 |   0.2187
  20 |   -0.1563 |   -0.1765 |   -0.0684 |   0.0202 |   0.1082
  40 |   -0.7148 |   -0.6982 |   -0.7579 |   0.0167 |   0.0598
  60 |   -1.2242 |   -0.8649 |   -1.0974 |   0.3593 |   0.2324
  80 |   -0.5668 |   -0.9027 |   -0.6724 |   0.3359 |   0.2303
 100 |   -1.4446 |   -1.0297 |   -1.1897 |   0.4149 |   0.1600
 120 |   -0.3521 |   -0.5775 |   -0.4549 |   0.2254 |   0.1226
 140 |   -0.6305 |   -0.4575 |   -0.5526 |   0.1730 |   0.0951
 160 |    0.5131 |    0.6394 |    0.5168 |   0.1263 |   0.1226
 180 |    1.0339 |    0.6907 |    0.7183 |   0.3431 |   0.0275
 191 |    1.6271 |    1.6057 |    1.3333 |   0.0214 |   0.2725
 192 |    1.3844 |    1.5277 |    1.3775 |   0.1433 |   0.1502
 193 |    1.4644 |    1.3207 |    1.4338 |   0.1437 |   0.1131
 194 |    1.3497 |    1.2496 |    1.4342 |   0.1001 |   0.1846
 195 |    1.6001 |    1.2888 |    1.5153 |   0.3113 |   0.2265
 196 |    1.2377 |    1.3907 |    1.4515 |   0.1530 |   0.0608
 197 |    1.2263 |    1.3072 |    1.3996 |   0.0809 |   0.0924
 198 |    0.8884 |    1.1820 |    1.2484 |   0.2936 |   0.0663
 199 |    1.1753 |    1.3085 |    1.2332 |   0.1332 |   0.0754
 200 |    1.2586 |    1.1454 |    1.2490 |   0.1132 |   0.1036

================================================================
   FINAL RESULTS AFTER 200 ITERATIONS
================================================================
  ASIC KF Position:    1.249023
  ASIC KF Velocity:    0.115784
  Python Reference:    x1=1.248989, x2=0.115365

  Covariance Matrix:
  P11 = 0.033203, P12 = 0.025879
  P21 = 0.025879, P22 = 0.128845

  Error Analysis (MSE, lower is better):
  Raw Measurement MSE: 0.089144
  KF Estimate MSE:     0.029573
  Improvement:         66.8%

  P Matrix Symmetry Check:
  P12 = 0.025879
  P21 = 0.025879
================================================================

================================================================
Kalman Filter Test Complete
================================================================

Simulation complete via $finish(1) at time 390255 NS + 0
../src/kf_top_tb.v:541     $finish;
ncsim> exit
